<!DOCTYPE html>
<html>
<head>
<style>
body {
  font-family: helvetica,serif;
  font-size: 14px;
}

#cy {
  width: 100%;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
  z-index: 10;
  background-color: #FFFFFF;
}

h1 {
  opacity: 0.5;
  font-size: 1em;
}

.floating {
    max-width: 30%;
    width: 120px;
    float: right;
    position: absolute;
    right: 10px;
    top: 10px;
    z-index: 100;
    justify-content: center;
    align-items: center;
}

.cy-button {
    background-color: #555555;
    border: none;
    color: white;
    padding: 6px 0px;
    width: 100%;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 14px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 8px;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2), 0 3px 10px 0 rgba(0,0,0,0.19);
}

a.cy-button:link, a.cy-button:visited, a.cy-button:hover {
    color: white;
    text-decoration: none;
}


.slidertext {
    width: 100%;
    color: #555555;
    border: none;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 14px;
    margin: 4px 2px;
}

.slider {
    -webkit-appearance: none;
    width: 100%;
    height: 15px;
    text-align: center;
    border-radius: 5px;
    background: #d3d3d3;
    outline: none;
    opacity: 0.7;
    -webkit-transition: .2s;
    transition: opacity .2s;
    margin: 10px 0px;
    display: inline-block;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2), 0 3px 10px 0 rgba(0,0,0,0.19);
}

.slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #555555;
    cursor: pointer;
}

.slider::-moz-range-thumb {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    background: #555555;
    cursor: pointer;
}

@media all and (max-width: 600px) {
    .buttontext {
        display: none;
    }
}


</style>
<meta charset=utf-8 />
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui">
<title>opaA_hv1_tree</title>
    
    <script  type='text/javascript' src="https://pastml.pasteur.fr/static/js/jquery.min.js"></script>
    
    <script  type='text/javascript' src="https://pastml.pasteur.fr/static/js/jquery.qtip.min.js"></script>
    
    <script  type='text/javascript' src="https://pastml.pasteur.fr/static/js/cytoscape.min.js"></script>
    
    <script  type='text/javascript' src="https://pastml.pasteur.fr/static/js/cytoscape-qtip.js"></script>
    
    <script  type='text/javascript' src="https://pastml.pasteur.fr/static/js/cytoscape-svg.js"></script>
    
    <script  type='text/javascript' src="https://pastml.pasteur.fr/static/js/layout-base.min.js"></script>
    
    <script  type='text/javascript' src="https://pastml.pasteur.fr/static/js/cose-base.min.js"></script>
    
    <script  type='text/javascript' src="https://pastml.pasteur.fr/static/js/cytoscape-cose-bilkent.min.js"></script>
    
    
    <link rel="stylesheet" type="text/css" href="https://pastml.pasteur.fr/static/css/jquery.qtip.min.css"/>
    
    <link rel="stylesheet" type="text/css" href="https://pastml.pasteur.fr/static/css/bootstrap.min.css"/>
    
<meta http-Equiv="Cache-Control" Content="no-cache" />
<meta http-Equiv="Pragma" Content="no-cache" />
<meta http-Equiv="Expires" Content="0" />
</head>
<body>
<div id="fullscreenDiv">
<div id="cy"></div>
<div class="floating">
    <a class="cy-button" href="#" id="fit" onclick="fit()">
        <span class="glyphicon glyphicon-resize-full"></span><span class="buttontext">  Fit screen</span>
    </a>
    <a class="cy-button" href="#" id="reset" onclick="resetLayout()">
        <span class="glyphicon glyphicon-picture"></span><span class="buttontext">  Restore layout</span>
    </a>
    <a class="cy-button" href="#" id="downloader" onclick="toImage()" download="opaA_hv1_tree.jpg">
        <span class="glyphicon glyphicon-save"></span><span class="buttontext">  Save (jpg)</span>
    </a>
    <a class="cy-button" href="#" id="downloader_svg" onclick="saveAsSvg()" download="opaA_hv1_tree.svg">
        <span class="glyphicon glyphicon-save"></span><span class="buttontext">  Save (svg)</span>
    </a>
    <a class="cy-button" href="#" id="fullscreen" onclick="toggleFullScreen()">
        <span id="fsspan" class="glyphicon glyphicon-fullscreen"></span><span id="fstext" class="buttontext">  Full screen</span>
    </a>
    
<div class="slidecontainer">
  <input type="range" min="0" max="5" value="5" class="slider" id="myRange" step="1">
  <div class="slidertext">dist. to root: <span id="demo"></span></div>
</div>
</div></div>
<!-- Load appplication code at the end to ensure DOM is loaded -->
<script type="text/javascript">var layoutOptions = {
  name: 'preset',
  positions: function(node){
    node.position('x', node.data('node_x'));
    node.position('y', node.data('node_y'));
    return node.position();
  },
  fit: true, // whether to fit to viewport
  padding: 1, // padding on fit
};


var cy = cytoscape({
  container: document.getElementById('cy'),

  style: cytoscape.stylesheet()
    .selector('node')
      .css({
        'width': 300,
        'height': 300,
        'content': '',
        'shape': 'barrel',
        'pie-size': '100%',
        'background-color': '#909090',
        'color': '#383838',
        'text-opacity': 1,
        'text-valign': 'center',
        'text-halign': 'center',
        'font-size': 80,
        'text-halign' : 'center',
        'text-valign' : 'center',
        'min-zoomed-font-size': 12,
        'text-background-color' : '#ffffff',
        'text-background-shape' : 'roundrectangle',
        'text-background-opacity': .3,
        'text-background-padding' : 1,
      })
    .selector('node[node_name]')
      .css({
        'content': 'data(node_name)',
      })
    .selector('node[tip]')
      .css({
        'width': 500,
        'height': 500,
        'font-size': 100,
        'shape': 'ellipse',
      })
    .selector('node[unresolved]')
      .css({
        'shape': 'octagon',
        'pie-size': '90%',
        'width': 600,
        'height': 600,
        'font-size': 150,
      })
    .selector('node[fake]')
      .css({
        'shape': 'rectangle',
        'width': 1,
        'height': 1,
        'text-opacity': 0,
        'font-size': 1,
        'text-background-opacity': 0,
        'text-background-padding' : 0,
        'opacity': 0,
      })
    .selector('node[hidden>0]')
      .css({
        'opacity': 0.1,
        'width': 100,
        'height': 100,
      })
    
    .selector(".1")
        .css({
        
                'pie-1-background-color': "#1f77b4",
                'pie-1-background-size': '100.0\%',
            
        })
    
    .selector(".1-2-3-6")
        .css({
        
                'pie-1-background-color': "#1f77b4",
                'pie-1-background-size': '25.0\%',
            
                'pie-2-background-color': "#aec7e8",
                'pie-2-background-size': '25.0\%',
            
                'pie-3-background-color': "#ff7f0e",
                'pie-3-background-size': '25.0\%',
            
                'pie-4-background-color': "#98df8a",
                'pie-4-background-size': '25.0\%',
            
        })
    
    .selector(".2")
        .css({
        
                'pie-1-background-color': "#aec7e8",
                'pie-1-background-size': '100.0\%',
            
        })
    
    .selector(".2-3")
        .css({
        
                'pie-1-background-color': "#aec7e8",
                'pie-1-background-size': '50.0\%',
            
                'pie-2-background-color': "#ff7f0e",
                'pie-2-background-size': '50.0\%',
            
        })
    
    .selector(".3")
        .css({
        
                'pie-1-background-color': "#ff7f0e",
                'pie-1-background-size': '100.0\%',
            
        })
    
    .selector(".3-6")
        .css({
        
                'pie-1-background-color': "#ff7f0e",
                'pie-1-background-size': '50.0\%',
            
                'pie-2-background-color': "#98df8a",
                'pie-2-background-size': '50.0\%',
            
        })
    
    .selector(".6")
        .css({
        
                'pie-1-background-color': "#98df8a",
                'pie-1-background-size': '100.0\%',
            
        })
    
    .selector('edge')
      .css({
        'width': 100,
        'font-size': 100,
        'color': 'black',
        'content': '',
        'curve-style': 'bezier',
        'target-arrow-shape': 'triangle',
        'target-arrow-color': '#909090',
        'opacity': 1,
        'text-opacity': 1,
        'line-color': '#909090',
        'text-background-color' : '#ffffff',
        'text-background-shape' : 'roundrectangle',
        'text-background-opacity': 1,
        'text-background-padding' : 4,
        'min-zoomed-font-size': 10,
        'line-style': 'solid',
        'line-dash-pattern': [200, 20],
      })
    .selector('edge[polytomy]')
      .css({
        'line-style': 'dashed',
      })
    .selector('edge[fake]')
      .css({
        'target-arrow-shape': 'none',
      })
    .selector('edge[edge_name]')
      .css({
        'content': 'data(edge_name)',
      })
    .selector('edge[edge_color]')
      .css({
        'target-arrow-color': 'data(edge_color)',
        'line-color': 'data(edge_color)',
        'width': 80,
      })
    .selector(':selected')
      .css({
        'background-color': 'black',
        'line-color': 'black',
        'target-arrow-color': 'black',
        'source-arrow-color': 'black',
        'pie-size': '60%',
        'opacity': 1
      })
    .selector('.faded')
      .css({
        'opacity': 0.25,
        'text-opacity': 0
      }),

  elements: {'nodes': [{'data': {'id': 'fake_node_0', 'fake': 1, 'node_x': 12125.390625, 'node_y': 0.0}}, {'data': {'mile': 0, 'node_root_date': 0, 'unresolved': 1, 'node_root_id': 'root', 'node_name': 'root', 'id': 0, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 12125.390625, 'node_y': 0.0}, 'classes': '3-6'}, {'data': {'id': 'fake_node_1', 'fake': 1, 'node_x': 9250.78125, 'node_y': 0.0}}, {'data': {'id': 'fake_node_2', 'fake': 1, 'node_x': 15000.0, 'node_y': 0.0}}, {'data': {'node_root_date': 0.7301617501258519, 'node_name': 'n0', 'mile': 0, 'unresolved': 1, 'node_root_id': 'n0', 'id': 1, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 9250.78125, 'node_y': 178.18210708630755}, 'classes': '3-6'}, {'data': {'id': 'fake_node_3', 'fake': 1, 'node_x': 6004.6875, 'node_y': 178.18210708630755}}, {'data': {'id': 'fake_node_4', 'fake': 1, 'node_x': 12496.875, 'node_y': 178.18210708630755}}, {'data': {'mile': 3, 'node_root_date': 30.963151318123003, 'node_root_id': '10529', 'node_name': '10529', 'id': 2, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 15000.0, 'node_y': 7555.968993095577}, 'classes': '6'}, {'data': {'node_root_date': 3.4838294157623153, 'node_name': 'n00', 'mile': 1, 'unresolved': 1, 'node_root_id': 'n00', 'id': 3, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 6004.6875, 'node_y': 850.1624002117264}, 'classes': '3-6'}, {'data': {'id': 'fake_node_5', 'fake': 1, 'node_x': 4209.375, 'node_y': 850.1624002117264}}, {'data': {'id': 'fake_node_6', 'fake': 1, 'node_x': 7800.0, 'node_y': 850.1624002117264}}, {'data': {'node_root_date': 2.83539825774627, 'node_name': 'n7', 'mile': 0, 'unresolved': 1, 'node_root_id': 'n7', 'id': 4, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 12496.875, 'node_y': 691.9250918128697}, 'classes': '3-6'}, {'data': {'id': 'fake_node_7', 'fake': 1, 'node_x': 10593.75, 'node_y': 691.9250918128697}}, {'data': {'id': 'fake_node_8', 'fake': 1, 'node_x': 14400.0, 'node_y': 691.9250918128697}}, {'data': {'node_root_date': 4.995414408302885, 'node_name': 'n1', 'mile': 1, 'unresolved': 1, 'node_root_id': 'n1', 'id': 5, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 4209.375, 'node_y': 1219.0360079630168}, 'classes': '3-6'}, {'data': {'id': 'fake_node_9', 'fake': 1, 'node_x': 1743.75, 'node_y': 1219.0360079630168}}, {'data': {'id': 'fake_node_10', 'fake': 1, 'node_x': 6675.0, 'node_y': 1219.0360079630168}}, {'data': {'mile': 4, 'node_root_date': 31.963151318123, 'node_root_id': '10727', 'node_name': '10727', 'id': 6, 'tip': 1, 'tooltip': 'opaA_hv1: 3', 'node_x': 7800.0, 'node_y': 7799.999999999999}, 'classes': '3'}, {'data': {'node_root_date': 3.7456673377096195, 'node_name': 'n77', 'mile': 0, 'unresolved': 1, 'node_root_id': 'n77', 'id': 7, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 10593.75, 'node_y': 914.0589719502889}, 'classes': '3-6'}, {'data': {'id': 'fake_node_11', 'fake': 1, 'node_x': 9150.0, 'node_y': 914.0589719502889}}, {'data': {'id': 'fake_node_12', 'fake': 1, 'node_x': 12037.5, 'node_y': 914.0589719502889}}, {'data': {'mile': 0, 'node_root_date': 27.963151318123003, 'node_root_id': '9071', 'node_name': '9071', 'id': 8, 'tip': 1, 'tooltip': 'opaA_hv1: 3', 'node_x': 14400.0, 'node_y': 6823.875972382307}, 'classes': '3'}, {'data': {'node_root_date': 13.7991194162548, 'node_name': 'n11', 'mile': 2, 'unresolved': 1, 'node_root_id': 'n11', 'id': 9, 'tooltip': 'opaA_hv1: 1 or 2 or 3 or 6', 'node_x': 1743.75, 'node_y': 3367.4130055430364}, 'classes': '1-2-3-6'}, {'data': {'id': 'fake_node_13', 'fake': 1, 'node_x': 0.0, 'node_y': 3367.4130055430364}}, {'data': {'id': 'fake_node_14', 'fake': 1, 'node_x': 3487.5, 'node_y': 3367.4130055430364}}, {'data': {'mile': 1, 'node_root_date': 26.95919975911334, 'node_root_id': 'n55', 'node_name': 'n55', 'id': 10, 'tooltip': 'opaA_hv1: 6', 'node_x': 6675.0, 'node_y': 6578.880662553914}, 'classes': '6'}, {'data': {'id': 'fake_node_15', 'fake': 1, 'node_x': 6150.0, 'node_y': 6578.880662553914}}, {'data': {'id': 'fake_node_16', 'fake': 1, 'node_x': 7200.0, 'node_y': 6578.880662553914}}, {'data': {'node_root_date': 7.094913474583805, 'node_name': 'n8', 'mile': 0, 'unresolved': 1, 'node_root_id': 'n8', 'id': 11, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 9150.0, 'node_y': 1731.3788791024463}, 'classes': '3-6'}, {'data': {'id': 'fake_node_17', 'fake': 1, 'node_x': 8700.0, 'node_y': 1731.3788791024463}}, {'data': {'id': 'fake_node_18', 'fake': 1, 'node_x': 9600.0, 'node_y': 1731.3788791024463}}, {'data': {'node_root_date': 4.555564697399035, 'node_name': 'n9', 'mile': 3, 'unresolved': 1, 'node_root_id': 'n9', 'id': 12, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 12037.5, 'node_y': 1111.6990401245307}, 'classes': '3-6'}, {'data': {'id': 'fake_node_19', 'fake': 1, 'node_x': 10950.0, 'node_y': 1111.6990401245307}}, {'data': {'id': 'fake_node_20', 'fake': 1, 'node_x': 13125.0, 'node_y': 1111.6990401245307}}, {'data': {'mile': 2, 'node_root_date': 29.963151318123003, 'node_root_id': '10231', 'node_name': '10231', 'id': 13, 'tip': 1, 'tooltip': 'opaA_hv1: 2', 'node_x': 0.0, 'node_y': 7311.937986191154}, 'classes': '2'}, {'data': {'node_root_date': 21.78733829021048, 'node_name': 'n2', 'mile': 2, 'unresolved': 1, 'node_root_id': 'n2', 'id': 14, 'tooltip': 'opaA_hv1: 1 or 2 or 3 or 6', 'node_x': 3487.5, 'node_y': 5316.78610072736}, 'classes': '1-2-3-6'}, {'data': {'id': 'fake_node_21', 'fake': 1, 'node_x': 2175.0, 'node_y': 5316.78610072736}}, {'data': {'id': 'fake_node_22', 'fake': 1, 'node_x': 4800.0, 'node_y': 5316.78610072736}}, {'data': {'mile': 1, 'node_root_date': 27.653146316803042, 'node_root_id': 'n6', 'node_name': 'n6', 'id': 15, 'tooltip': 'opaA_hv1: 6', 'node_x': 6150.0, 'node_y': 6748.22513976479}, 'classes': '6'}, {'data': {'id': 'fake_node_23', 'fake': 1, 'node_x': 5700.0, 'node_y': 6748.22513976479}}, {'data': {'id': 'fake_node_24', 'fake': 1, 'node_x': 6600.0, 'node_y': 6748.22513976479}}, {'data': {'mile': 3, 'node_root_date': 30.963151318123003, 'node_root_id': '10562', 'node_name': '10562', 'id': 16, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 7200.0, 'node_y': 7555.968993095577}, 'classes': '6'}, {'data': {'mile': 1, 'node_root_date': 27.627347191783212, 'node_root_id': 'n88', 'node_name': 'n88', 'id': 17, 'tooltip': 'opaA_hv1: 6', 'node_x': 8700.0, 'node_y': 6741.929353308948}, 'classes': '6'}, {'data': {'id': 'fake_node_25', 'fake': 1, 'node_x': 8400.0, 'node_y': 6741.929353308948}}, {'data': {'id': 'fake_node_26', 'fake': 1, 'node_x': 9000.0, 'node_y': 6741.929353308948}}, {'data': {'mile': 0, 'node_root_date': 27.963151318123003, 'node_root_id': '9126', 'node_name': '9126', 'id': 18, 'tip': 1, 'tooltip': 'opaA_hv1: 3', 'node_x': 9600.0, 'node_y': 6823.875972382307}, 'classes': '3'}, {'data': {'node_root_date': 15.077156297833994, 'node_name': 'n99', 'mile': 3, 'unresolved': 1, 'node_root_id': 'n99', 'id': 19, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 10950.0, 'node_y': 3679.293632615796}, 'classes': '3-6'}, {'data': {'id': 'fake_node_27', 'fake': 1, 'node_x': 10500.0, 'node_y': 3679.293632615796}}, {'data': {'id': 'fake_node_28', 'fake': 1, 'node_x': 11400.0, 'node_y': 3679.293632615796}}, {'data': {'node_root_date': 25.460648836797446, 'node_name': 'n1010', 'mile': 3, 'unresolved': 1, 'node_root_id': 'n1010', 'id': 20, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 13125.0, 'node_y': 6213.187772083614}, 'classes': '3-6'}, {'data': {'id': 'fake_node_29', 'fake': 1, 'node_x': 12450.0, 'node_y': 6213.187772083614}}, {'data': {'id': 'fake_node_30', 'fake': 1, 'node_x': 13800.0, 'node_y': 6213.187772083614}}, {'data': {'node_root_date': 24.491938833928074, 'node_name': 'n22', 'mile': 2, 'unresolved': 1, 'node_root_id': 'n22', 'id': 21, 'tooltip': 'opaA_hv1: 1 or 2 or 3 or 6', 'node_x': 2175.0, 'node_y': 5976.792494685014}, 'classes': '1-2-3-6'}, {'data': {'id': 'fake_node_31', 'fake': 1, 'node_x': 1050.0, 'node_y': 5976.792494685014}}, {'data': {'id': 'fake_node_32', 'fake': 1, 'node_x': 3300.0, 'node_y': 5976.792494685014}}, {'data': {'mile': 5, 'node_root_date': 31.963151318123003, 'node_root_id': '10792', 'node_name': '10792', 'id': 22, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 4800.0, 'node_y': 7800.0}, 'classes': '6'}, {'data': {'mile': 2, 'node_root_date': 28.844217985670127, 'node_root_id': 'n66', 'node_name': 'n66', 'id': 23, 'tooltip': 'opaA_hv1: 6', 'node_x': 5700.0, 'node_y': 7038.883558413757}, 'classes': '6'}, {'data': {'id': 'fake_node_33', 'fake': 1, 'node_x': 5400.0, 'node_y': 7038.883558413757}}, {'data': {'id': 'fake_node_34', 'fake': 1, 'node_x': 6000.0, 'node_y': 7038.883558413757}}, {'data': {'mile': 1, 'node_root_date': 28.963151318123003, 'node_root_id': '9343', 'node_name': '9343', 'id': 24, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 6600.0, 'node_y': 7067.90697928673}, 'classes': '6'}, {'data': {'mile': 2, 'node_root_date': 29.963151318123003, 'node_root_id': '10272', 'node_name': '10272', 'id': 25, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 8400.0, 'node_y': 7311.937986191154}, 'classes': '6'}, {'data': {'mile': 1, 'node_root_date': 28.963151318123003, 'node_root_id': '9399', 'node_name': '9399', 'id': 26, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 9000.0, 'node_y': 7067.90697928673}, 'classes': '6'}, {'data': {'mile': 3, 'node_root_date': 29.864848942640933, 'node_root_id': 'n10', 'node_name': 'n10', 'id': 27, 'tooltip': 'opaA_hv1: 6', 'node_x': 10500.0, 'node_y': 7287.949158521167}, 'classes': '6'}, {'data': {'id': 'fake_node_35', 'fake': 1, 'node_x': 10200.0, 'node_y': 7287.949158521167}}, {'data': {'id': 'fake_node_36', 'fake': 1, 'node_x': 10800.0, 'node_y': 7287.949158521167}}, {'data': {'mile': 3, 'node_root_date': 30.963151318123003, 'node_root_id': '10610', 'node_name': '10610', 'id': 28, 'tip': 1, 'tooltip': 'opaA_hv1: 3', 'node_x': 11400.0, 'node_y': 7555.968993095577}, 'classes': '3'}, {'data': {'node_root_date': 25.862420916852308, 'node_name': 'n1111', 'mile': 3, 'unresolved': 1, 'node_root_id': 'n1111', 'id': 29, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 12450.0, 'node_y': 6311.232617325486}, 'classes': '3-6'}, {'data': {'id': 'fake_node_37', 'fake': 1, 'node_x': 12000.0, 'node_y': 6311.232617325486}}, {'data': {'id': 'fake_node_38', 'fake': 1, 'node_x': 12900.0, 'node_y': 6311.232617325486}}, {'data': {'mile': 5, 'node_root_date': 31.963151318123003, 'node_root_id': '10723', 'node_name': '10723', 'id': 30, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 13800.0, 'node_y': 7800.0}, 'classes': '6'}, {'data': {'node_root_date': 28.433069518292793, 'node_name': 'n3', 'mile': 2, 'unresolved': 1, 'node_root_id': 'n3', 'id': 31, 'tooltip': 'opaA_hv1: 2 or 3', 'node_x': 1050.0, 'node_y': 6938.550583932455}, 'classes': '2-3'}, {'data': {'id': 'fake_node_39', 'fake': 1, 'node_x': 600.0, 'node_y': 6938.550583932455}}, {'data': {'id': 'fake_node_40', 'fake': 1, 'node_x': 1500.0, 'node_y': 6938.550583932455}}, {'data': {'mile': 3, 'node_root_date': 26.662533343594575, 'node_root_id': 'n4', 'node_name': 'n4', 'id': 32, 'tooltip': 'opaA_hv1: 1', 'node_x': 3300.0, 'node_y': 6506.484858460143}, 'classes': '1'}, {'data': {'id': 'fake_node_41', 'fake': 1, 'node_x': 2700.0, 'node_y': 6506.484858460143}}, {'data': {'id': 'fake_node_42', 'fake': 1, 'node_x': 3900.0, 'node_y': 6506.484858460143}}, {'data': {'mile': 2, 'node_root_date': 29.963151318123003, 'node_root_id': '10268', 'node_name': '10268', 'id': 33, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 5400.0, 'node_y': 7311.937986191154}, 'classes': '6'}, {'data': {'mile': 3, 'node_root_date': 30.963151318123003, 'node_root_id': '10574', 'node_name': '10574', 'id': 34, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 6000.0, 'node_y': 7555.968993095577}, 'classes': '6'}, {'data': {'mile': 3, 'node_root_date': 30.963151318123003, 'node_root_id': '10500', 'node_name': '10500', 'id': 35, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 10200.0, 'node_y': 7555.968993095577}, 'classes': '6'}, {'data': {'mile': 5, 'node_root_date': 31.963151318123003, 'node_root_id': '10702', 'node_name': '10702', 'id': 36, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 10800.0, 'node_y': 7800.0}, 'classes': '6'}, {'data': {'mile': 3, 'node_root_date': 30.963151318123003, 'node_root_id': '10524', 'node_name': '10524', 'id': 37, 'tip': 1, 'tooltip': 'opaA_hv1: 3', 'node_x': 12000.0, 'node_y': 7555.968993095577}, 'classes': '3'}, {'data': {'node_root_date': 28.22576122897873, 'node_name': 'n12', 'mile': 3, 'unresolved': 1, 'node_root_id': 'n12', 'id': 38, 'tooltip': 'opaA_hv1: 3 or 6', 'node_x': 12900.0, 'node_y': 6887.960933351511}, 'classes': '3-6'}, {'data': {'id': 'fake_node_43', 'fake': 1, 'node_x': 12600.0, 'node_y': 6887.960933351511}}, {'data': {'id': 'fake_node_44', 'fake': 1, 'node_x': 13200.0, 'node_y': 6887.960933351511}}, {'data': {'mile': 2, 'node_root_date': 29.963151318123003, 'node_root_id': '10328', 'node_name': '10328', 'id': 39, 'tip': 1, 'tooltip': 'opaA_hv1: 3', 'node_x': 600.0, 'node_y': 7311.937986191154}, 'classes': '3'}, {'data': {'mile': 4, 'node_root_date': 30.032361929201073, 'node_root_id': 'n33', 'node_name': 'n33', 'id': 40, 'tooltip': 'opaA_hv1: 2', 'node_x': 1500.0, 'node_y': 7328.827521301006}, 'classes': '2'}, {'data': {'id': 'fake_node_45', 'fake': 1, 'node_x': 1200.0, 'node_y': 7328.827521301006}}, {'data': {'id': 'fake_node_46', 'fake': 1, 'node_x': 1800.0, 'node_y': 7328.827521301006}}, {'data': {'mile': 3, 'node_root_date': 28.362648130814776, 'node_root_id': 'n44', 'node_name': 'n44', 'id': 41, 'tooltip': 'opaA_hv1: 1', 'node_x': 2700.0, 'node_y': 6921.365581838588}, 'classes': '1'}, {'data': {'id': 'fake_node_47', 'fake': 1, 'node_x': 2400.0, 'node_y': 6921.365581838588}}, {'data': {'id': 'fake_node_48', 'fake': 1, 'node_x': 3000.0, 'node_y': 6921.365581838588}}, {'data': {'mile': 4, 'node_root_date': 31.025253557105486, 'node_root_id': 'n5', 'node_name': 'n5', 'id': 42, 'tooltip': 'opaA_hv1: 1', 'node_x': 3900.0, 'node_y': 7571.123865005491}, 'classes': '1'}, {'data': {'id': 'fake_node_49', 'fake': 1, 'node_x': 3600.0, 'node_y': 7571.123865005491}}, {'data': {'id': 'fake_node_50', 'fake': 1, 'node_x': 4200.0, 'node_y': 7571.123865005491}}, {'data': {'mile': 3, 'node_root_date': 30.963151318123003, 'node_root_id': '10531', 'node_name': '10531', 'id': 43, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 12600.0, 'node_y': 7555.968993095577}, 'classes': '6'}, {'data': {'mile': 5, 'node_root_date': 31.963151318123003, 'node_root_id': '10771', 'node_name': '10771', 'id': 44, 'tip': 1, 'tooltip': 'opaA_hv1: 3', 'node_x': 13200.0, 'node_y': 7800.0}, 'classes': '3'}, {'data': {'mile': 4, 'node_root_date': 31.963151318123, 'node_root_id': '10794', 'node_name': '10794', 'id': 45, 'tip': 1, 'tooltip': 'opaA_hv1: 2', 'node_x': 1200.0, 'node_y': 7799.999999999999}, 'classes': '2'}, {'data': {'mile': 4, 'node_root_date': 31.963151318123, 'node_root_id': '10814', 'node_name': '10814', 'id': 46, 'tip': 1, 'tooltip': 'opaA_hv1: 2', 'node_x': 1800.0, 'node_y': 7799.999999999999}, 'classes': '2'}, {'data': {'mile': 3, 'node_root_date': 30.963151318123003, 'node_root_id': '10588', 'node_name': '10588', 'id': 47, 'tip': 1, 'tooltip': 'opaA_hv1: 6', 'node_x': 2400.0, 'node_y': 7555.968993095577}, 'classes': '6'}, {'data': {'mile': 3, 'node_root_date': 30.963151318123003, 'node_root_id': '10638', 'node_name': '10638', 'id': 48, 'tip': 1, 'tooltip': 'opaA_hv1: 1', 'node_x': 3000.0, 'node_y': 7555.968993095577}, 'classes': '1'}, {'data': {'mile': 4, 'node_root_date': 31.963151318123, 'node_root_id': '10791', 'node_name': '10791', 'id': 49, 'tip': 1, 'tooltip': 'opaA_hv1: 1', 'node_x': 3600.0, 'node_y': 7799.999999999999}, 'classes': '1'}, {'data': {'mile': 4, 'node_root_date': 31.963151318123, 'node_root_id': '10795', 'node_name': '10795', 'id': 50, 'tip': 1, 'tooltip': 'opaA_hv1: 1', 'node_x': 4200.0, 'node_y': 7799.999999999999}, 'classes': '1'}], 'edges': [{'data': {'source': 'fake_node_0', 'target': 0, 'edge_name': 0.0, 'mile': 0}}, {'data': {'source': 0, 'target': 'fake_node_1', 'fake': 1, 'mile': 0}}, {'data': {'source': 'fake_node_1', 'target': 1, 'edge_name': 0.7301617501258519, 'mile': 0}}, {'data': {'source': 0, 'target': 'fake_node_2', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_2', 'target': 2, 'edge_name': 30.963151318123003, 'mile': 3}}, {'data': {'source': 1, 'target': 'fake_node_3', 'fake': 1, 'mile': 1}}, {'data': {'source': 'fake_node_3', 'target': 3, 'edge_name': 2.7536676656364634, 'mile': 1}}, {'data': {'source': 1, 'target': 'fake_node_4', 'fake': 1, 'mile': 0}}, {'data': {'source': 'fake_node_4', 'target': 4, 'edge_name': 2.1052365076204183, 'mile': 0}}, {'data': {'source': 3, 'target': 'fake_node_5', 'fake': 1, 'mile': 1}}, {'data': {'source': 'fake_node_5', 'target': 5, 'edge_name': 1.5115849925405698, 'mile': 1}}, {'data': {'source': 3, 'target': 'fake_node_6', 'fake': 1, 'mile': 4}}, {'data': {'source': 'fake_node_6', 'target': 6, 'edge_name': 28.479321902360685, 'mile': 4}}, {'data': {'source': 4, 'target': 'fake_node_7', 'fake': 1, 'mile': 0}}, {'data': {'source': 'fake_node_7', 'target': 7, 'edge_name': 0.9102690799633493, 'mile': 0}}, {'data': {'source': 4, 'target': 'fake_node_8', 'fake': 1, 'mile': 0}}, {'data': {'source': 'fake_node_8', 'target': 8, 'edge_name': 25.127753060376733, 'mile': 0}}, {'data': {'source': 5, 'target': 'fake_node_9', 'fake': 1, 'mile': 2}}, {'data': {'source': 'fake_node_9', 'target': 9, 'edge_name': 8.803705007951915, 'mile': 2}}, {'data': {'source': 5, 'target': 'fake_node_10', 'fake': 1, 'mile': 1}}, {'data': {'source': 'fake_node_10', 'target': 10, 'edge_name': 21.963785350810454, 'mile': 1}}, {'data': {'source': 7, 'target': 'fake_node_11', 'fake': 1, 'mile': 0}}, {'data': {'source': 'fake_node_11', 'target': 11, 'edge_name': 3.3492461368741857, 'mile': 0}}, {'data': {'source': 7, 'target': 'fake_node_12', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_12', 'target': 12, 'edge_name': 0.8098973596894155, 'mile': 3}}, {'data': {'source': 9, 'target': 'fake_node_13', 'fake': 1, 'mile': 2}}, {'data': {'source': 'fake_node_13', 'target': 13, 'edge_name': 16.164031901868203, 'mile': 2}}, {'data': {'source': 9, 'target': 'fake_node_14', 'fake': 1, 'mile': 2}}, {'data': {'source': 'fake_node_14', 'target': 14, 'edge_name': 7.988218873955681, 'mile': 2}}, {'data': {'source': 10, 'target': 'fake_node_15', 'fake': 1, 'edge_color': '#98df8a', 'mile': 1}}, {'data': {'source': 'fake_node_15', 'target': 15, 'edge_name': 0.6939465576897019, 'edge_color': '#98df8a', 'mile': 1}}, {'data': {'source': 10, 'target': 'fake_node_16', 'fake': 1, 'edge_color': '#98df8a', 'mile': 3}}, {'data': {'source': 'fake_node_16', 'target': 16, 'edge_name': 4.003951559009664, 'edge_color': '#98df8a', 'mile': 3}}, {'data': {'source': 11, 'target': 'fake_node_17', 'fake': 1, 'mile': 1}}, {'data': {'source': 'fake_node_17', 'target': 17, 'edge_name': 20.532433717199407, 'mile': 1}}, {'data': {'source': 11, 'target': 'fake_node_18', 'fake': 1, 'mile': 0}}, {'data': {'source': 'fake_node_18', 'target': 18, 'edge_name': 20.868237843539198, 'mile': 0}}, {'data': {'source': 12, 'target': 'fake_node_19', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_19', 'target': 19, 'edge_name': 10.52159160043496, 'mile': 3}}, {'data': {'source': 12, 'target': 'fake_node_20', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_20', 'target': 20, 'edge_name': 20.90508413939841, 'mile': 3}}, {'data': {'source': 14, 'target': 'fake_node_21', 'fake': 1, 'mile': 2}}, {'data': {'source': 'fake_node_21', 'target': 21, 'edge_name': 2.704600543717593, 'mile': 2}}, {'data': {'source': 14, 'target': 'fake_node_22', 'fake': 1, 'mile': 5}}, {'data': {'source': 'fake_node_22', 'target': 22, 'edge_name': 10.17581302791252, 'mile': 5}}, {'data': {'source': 15, 'target': 'fake_node_23', 'fake': 1, 'edge_color': '#98df8a', 'mile': 2}}, {'data': {'source': 'fake_node_23', 'target': 23, 'edge_name': 1.1910716688670853, 'edge_color': '#98df8a', 'mile': 2}}, {'data': {'source': 15, 'target': 'fake_node_24', 'fake': 1, 'edge_color': '#98df8a', 'mile': 1}}, {'data': {'source': 'fake_node_24', 'target': 24, 'edge_name': 1.3100050013199622, 'edge_color': '#98df8a', 'mile': 1}}, {'data': {'source': 17, 'target': 'fake_node_25', 'fake': 1, 'edge_color': '#98df8a', 'mile': 2}}, {'data': {'source': 'fake_node_25', 'target': 25, 'edge_name': 2.3358041263397915, 'edge_color': '#98df8a', 'mile': 2}}, {'data': {'source': 17, 'target': 'fake_node_26', 'fake': 1, 'edge_color': '#98df8a', 'mile': 1}}, {'data': {'source': 'fake_node_26', 'target': 26, 'edge_name': 1.3358041263397915, 'edge_color': '#98df8a', 'mile': 1}}, {'data': {'source': 19, 'target': 'fake_node_27', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_27', 'target': 27, 'edge_name': 14.787692644806937, 'mile': 3}}, {'data': {'source': 19, 'target': 'fake_node_28', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_28', 'target': 28, 'edge_name': 15.885995020289009, 'mile': 3}}, {'data': {'source': 20, 'target': 'fake_node_29', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_29', 'target': 29, 'edge_name': 0.4017720800548634, 'mile': 3}}, {'data': {'source': 20, 'target': 'fake_node_30', 'fake': 1, 'mile': 5}}, {'data': {'source': 'fake_node_30', 'target': 30, 'edge_name': 6.502502481325556, 'mile': 5}}, {'data': {'source': 21, 'target': 'fake_node_31', 'fake': 1, 'mile': 2}}, {'data': {'source': 'fake_node_31', 'target': 31, 'edge_name': 3.941130684364719, 'mile': 2}}, {'data': {'source': 21, 'target': 'fake_node_32', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_32', 'target': 32, 'edge_name': 2.1705945096665022, 'mile': 3}}, {'data': {'source': 23, 'target': 'fake_node_33', 'fake': 1, 'edge_color': '#98df8a', 'mile': 2}}, {'data': {'source': 'fake_node_33', 'target': 33, 'edge_name': 1.118933332452877, 'edge_color': '#98df8a', 'mile': 2}}, {'data': {'source': 23, 'target': 'fake_node_34', 'fake': 1, 'edge_color': '#98df8a', 'mile': 3}}, {'data': {'source': 'fake_node_34', 'target': 34, 'edge_name': 2.118933332452877, 'edge_color': '#98df8a', 'mile': 3}}, {'data': {'source': 27, 'target': 'fake_node_35', 'fake': 1, 'edge_color': '#98df8a', 'mile': 3}}, {'data': {'source': 'fake_node_35', 'target': 35, 'edge_name': 1.098302375482072, 'edge_color': '#98df8a', 'mile': 3}}, {'data': {'source': 27, 'target': 'fake_node_36', 'fake': 1, 'edge_color': '#98df8a', 'mile': 5}}, {'data': {'source': 'fake_node_36', 'target': 36, 'edge_name': 2.0983023754820698, 'edge_color': '#98df8a', 'mile': 5}}, {'data': {'source': 29, 'target': 'fake_node_37', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_37', 'target': 37, 'edge_name': 5.100730401270695, 'mile': 3}}, {'data': {'source': 29, 'target': 'fake_node_38', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_38', 'target': 38, 'edge_name': 2.3633403121264203, 'mile': 3}}, {'data': {'source': 31, 'target': 'fake_node_39', 'fake': 1, 'mile': 2}}, {'data': {'source': 'fake_node_39', 'target': 39, 'edge_name': 1.53008179983021, 'mile': 2}}, {'data': {'source': 31, 'target': 'fake_node_40', 'fake': 1, 'mile': 4}}, {'data': {'source': 'fake_node_40', 'target': 40, 'edge_name': 1.59929241090828, 'mile': 4}}, {'data': {'source': 32, 'target': 'fake_node_41', 'fake': 1, 'edge_color': '#1f77b4', 'mile': 3}}, {'data': {'source': 'fake_node_41', 'target': 41, 'edge_name': 1.7001147872202007, 'edge_color': '#1f77b4', 'mile': 3}}, {'data': {'source': 32, 'target': 'fake_node_42', 'fake': 1, 'edge_color': '#1f77b4', 'mile': 4}}, {'data': {'source': 'fake_node_42', 'target': 42, 'edge_name': 4.3627202135109115, 'edge_color': '#1f77b4', 'mile': 4}}, {'data': {'source': 38, 'target': 'fake_node_43', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_43', 'target': 43, 'edge_name': 2.7373900891442746, 'mile': 3}}, {'data': {'source': 38, 'target': 'fake_node_44', 'fake': 1, 'mile': 5}}, {'data': {'source': 'fake_node_44', 'target': 44, 'edge_name': 3.737390089144273, 'mile': 5}}, {'data': {'source': 40, 'target': 'fake_node_45', 'fake': 1, 'edge_color': '#aec7e8', 'mile': 4}}, {'data': {'source': 'fake_node_45', 'target': 45, 'edge_name': 1.9307893889219279, 'edge_color': '#aec7e8', 'mile': 4}}, {'data': {'source': 40, 'target': 'fake_node_46', 'fake': 1, 'edge_color': '#aec7e8', 'mile': 4}}, {'data': {'source': 'fake_node_46', 'target': 46, 'edge_name': 1.9307893889219279, 'edge_color': '#aec7e8', 'mile': 4}}, {'data': {'source': 41, 'target': 'fake_node_47', 'fake': 1, 'mile': 3}}, {'data': {'source': 'fake_node_47', 'target': 47, 'edge_name': 2.600503187308226, 'mile': 3}}, {'data': {'source': 41, 'target': 'fake_node_48', 'fake': 1, 'edge_color': '#1f77b4', 'mile': 3}}, {'data': {'source': 'fake_node_48', 'target': 48, 'edge_name': 2.600503187308226, 'edge_color': '#1f77b4', 'mile': 3}}, {'data': {'source': 42, 'target': 'fake_node_49', 'fake': 1, 'edge_color': '#1f77b4', 'mile': 4}}, {'data': {'source': 'fake_node_49', 'target': 49, 'edge_name': 0.9378977610175132, 'edge_color': '#1f77b4', 'mile': 4}}, {'data': {'source': 42, 'target': 'fake_node_50', 'fake': 1, 'edge_color': '#1f77b4', 'mile': 4}}, {'data': {'source': 'fake_node_50', 'target': 50, 'edge_name': 0.9378977610175132, 'edge_color': '#1f77b4', 'mile': 4}}]},

  layout: layoutOptions,

  ready: function(){
    window.cy = this;
  }
});

function addQtips() {
    cy.filter(function(ele, i, eles) {
        return ele.isNode() && ele.data('tooltip') !== undefined;
    } ).qtip({
        content: function(){
                return '<br><div style="overflow: auto;"><span style="white-space:nowrap;">'
                + this.data('tooltip') + '</span></div>' + '<br>id: ' + this.data('node_root_id')
                + '<br>dist. to root: ' + this.data('node_root_date');
            },
        show: {event: 'mouseover'},
        hide: {event: 'mouseout'},
        style: {
                classes: 'qtip-bootstrap',
        },
        position: {
            at: 'center center',
        }
    });
}

cy.minZoom(.001);
cy.maxZoom(20);
addQtips();


function toImage(){
    document.getElementById("downloader").href = cy.jpg({ full: false, quality: 1.0, scale: 2}).replace(/^data:image\/[^;]/, 'data:application/octet-stream');
}

function saveAsSvg() {
    var svgContent = cy.svg({scale: 1, full: true});
    var blob = new Blob([svgContent], {type:"image/svg+xml;charset=utf-8"});
    document.getElementById("downloader_svg").href = URL.createObjectURL(blob);
}

function fit() {
    cy.fit();
}

function resetLayout() {
    cy.startBatch();
    cy.layout(layoutOptions).run();

    if (slider !== null) {
        var cur_dist_attr = 'edge_name_' + slider.value;
        var initial_dist_attr = 'edge_name_' + slider.max;
        var cur_dist, initial_dist, mile;

        if (removed !== undefined) {
            removed.forEach(function( ele ) {
                if (ele.isEdge()) {
                    ele.target().position('x', ele.target().data('node_x'));
                    ele.target().position('y', ele.target().data('node_y'));

                    // the targets of hidden nodes might need to be moved to the last visible position for LTT timeline
                    if (ele.data(initial_dist_attr) !== undefined) {
                        mile = ele.target().data('mile');
                        if (mile !== undefined) {
                            initial_dist = ele.data(initial_dist_attr);
                            cur_dist = ele.data('edge_name_' + mile);
                            ele.target().position('y', (ele.source().position('y') +
                            cur_dist * (ele.target().position('y') - ele.source().position('y')) / initial_dist));
                        }
                    }
                }
            });
        }

        cy.edges().forEach(function( ele ) {
            cur_dist = ele.data(cur_dist_attr);
            initial_dist = ele.data(initial_dist_attr);
            if (cur_dist !== undefined && cur_dist != initial_dist) {
                ele.target().position('y', (ele.source().position('y') +
                cur_dist * (ele.target().position('y') - ele.source().position('y')) / initial_dist));
            }
        });
    }
    cy.endBatch();
}

var years = ['27.9632', '28.9632', '29.9632', '30.9632', '31.9632', '31.9632'];
var slider = document.getElementById("myRange");
if (slider !== null) {
    var output = document.getElementById("demo");
    output.innerHTML = years[slider.value]; // Display the default slider value

    // Update the current slider value (each time you drag the slider handle)
    var removed = cy.collection();

    slider.oninput = function() {
        output.innerHTML = years[this.value];

        cy.startBatch();

        removed.restore();
        removed = cy.remove("[mile>" + this.value + "]");

        var cur_dist_attr = 'edge_name_' + this.value;
        var initial_dist_attr = 'edge_name_' + this.max;
        var old_dist, cur_dist;

        cy.edges().forEach(function( ele ){
            old_dist = ele.data('edge_name');
            cur_dist = ele.data(cur_dist_attr);
            if (cur_dist !== undefined && cur_dist != old_dist) {
                if (ele.data(initial_dist_attr) != cur_dist) {
                    ele.target().data('hidden', 1);
                } else {
                    ele.target().data('hidden', 0);
                    console.log(ele.target().data());
                }
                ele.target().position('y', (ele.source().position('y')
                + cur_dist * (ele.target().position('y') - ele.source().position('y')) / old_dist));
                ele.data('edge_name', cur_dist);
            }
        });
        cy.endBatch();
    }
}

function toggleFullScreen() {
  var elem = document.getElementById("fullscreenDiv");
  if ((document.fullScreenElement && document.fullScreenElement !== null) ||
   (!document.mozFullScreen && !document.webkitIsFullScreen)) {
    if (elem.requestFullScreen) {
      elem.requestFullScreen();
    } else if (elem.mozRequestFullScreen) {
      elem.mozRequestFullScreen();
    } else if (elem.webkitRequestFullScreen) {
      elem.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);
    }
    document.getElementById("fsspan").className = "glyphicon glyphicon-resize-small"
    document.getElementById("fstext").innerHTML = "  Exit full screen"
  } else {
    if (document.cancelFullScreen) {
      document.cancelFullScreen();
    } else if (document.mozCancelFullScreen) {
      document.mozCancelFullScreen();
    } else if (document.webkitCancelFullScreen) {
      document.webkitCancelFullScreen();
    }
    document.getElementById("fsspan").className = "glyphicon glyphicon-fullscreen"
    document.getElementById("fstext").innerHTML = "  Full screen"
  }
}</script>
</body>
</html>